<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RussianTUB | RAXICH ULTIMATE</title>
    <style>
        :root { 
            --bg: #050505; --card: #141414; --text: #fff; --accent: #ff0000; --meta: #aaa; --inp: #1f1f1f; --comm-bg: #0a0a0a;
            --shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        body.light-theme {
            --bg: #f2f2f2; --card: #ffffff; --text: #000; --meta: #555; --inp: #e6e6e6; --comm-bg: #fff;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Segoe UI', sans-serif; transition: background 0.2s, color 0.2s; }
        body { margin: 0; background: var(--bg); color: var(--text); overflow: hidden; height: 100vh; }

        /* –°–ü–ò–ù–ù–ï–† (–†–ê–ö–°–ò–ß –†–£–õ–ï–¢–ö–ê) */
        #rax-roulette { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 20000; align-items: center; justify-content: center; flex-direction: column; }
        .spinner { width: 60px; height: 60px; border: 5px solid transparent; border-top: 5px solid red; border-radius: 50%; animation: spin 0.8s linear infinite; box-shadow: 0 0 15px red; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* HEADER */
        .header { display: flex; align-items: center; justify-content: space-between; padding: 0 15px; background: var(--card); border-bottom: 1px solid rgba(128,128,128,0.2); height: 65px; z-index: 1000; box-shadow: var(--shadow); }
        .logo { display: flex; align-items: center; gap: 10px; font-weight: 900; font-size: 16px; }
        .logo-sq { width: 32px; height: 32px; background: linear-gradient(45deg, #cc0000, #ff0000); border-radius: 8px; color: #fff; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 10px red; }

        .btn-icon { background: none; border: none; cursor: pointer; color: var(--text); fill: var(--text); padding: 5px; }
        .btn-icon svg { width: 24px; height: 24px; }
        .btn-red { background: linear-gradient(90deg, #cc0000, #ff0000); color: white; border: none; padding: 6px 12px; border-radius: 6px; font-weight: bold; font-size: 11px; cursor: pointer; box-shadow: 0 2px 10px rgba(255,0,0,0.3); }

        /* PAGES */
        .page-container { height: calc(100vh - 140px); overflow-y: auto; padding: 15px; }
        .page { display: none; animation: fadeUp 0.3s ease; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* –ö–†–ê–°–ò–í–´–ï –ö–ê–†–¢–û–ß–ö–ò */
        #list, #shorts-list, #fav-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; }
        .v-card { background: var(--card); border-radius: 16px; overflow: hidden; border: 1px solid rgba(128,128,128,0.1); cursor: pointer; box-shadow: var(--shadow); transition: transform 0.2s; }
        .v-card:active { transform: scale(0.98); }
        .v-thumb { width: 100%; aspect-ratio: 16/9; object-fit: cover; }
        .v-title { padding: 12px; font-size: 13px; font-weight: 700; color: var(--text); line-height: 1.4; }
        .chan-img { width: 80px; height: 80px; border-radius: 50%; margin: 15px auto; display: block; border: 2px solid red; }

        /* –ü–õ–ï–ï–† */
        #player { position: fixed; inset: 0; background: var(--bg); z-index: 15000; display: none; flex-direction: column; }
        #player.mini { width: 240px; height: 140px; inset: auto; bottom: 85px; right: 10px; border: 2px solid red; border-radius: 12px; overflow: hidden; box-shadow: 0 5px 20px rgba(0,0,0,0.7); }
        #pf { width: 100%; aspect-ratio: 16/9; background: #000; }
        
        .v-info { padding: 10px 15px; background: var(--card); border-bottom: 1px solid rgba(128,128,128,0.1); }
        .v-desc { font-size: 12px; color: var(--meta); margin-top: 5px; display: none; padding: 10px; background: rgba(0,0,0,0.2); border-radius: 8px; }

        .v-actions { display: flex; gap: 15px; padding: 10px 15px; background: var(--card); overflow-x: auto; align-items: center; }
        .act-btn { background: var(--inp); border: none; color: var(--text); padding: 8px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; display: flex; align-items: center; gap: 5px; cursor: pointer; white-space: nowrap; }
        .act-btn.active { background: rgba(255,0,0,0.2); color: red; border: 1px solid red; }
        .act-btn svg { width: 18px; height: 18px; fill: currentColor; }

        #comm-sec { flex: 1; overflow-y: auto; background: var(--comm-bg); padding: 15px; }
        .comment { padding: 10px 0; border-bottom: 1px solid rgba(128,128,128,0.1); font-size: 13px; display: flex; gap: 10px; }
        .comm-input { display: flex; gap: 10px; padding: 10px; background: var(--card); border-top: 1px solid rgba(128,128,128,0.1); }

        /* NAV */
        .nav { position: fixed; bottom: 0; width: 100%; height: 75px; background: var(--card); display: flex; border-top: 1px solid rgba(128,128,128,0.2); z-index: 1000; padding-bottom: 10px; }
        .nav-item { flex: 1; border: none; background: none; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--meta); font-size: 9px; font-weight: 600; cursor: pointer; }
        .nav-item.active { color: red; }
        .nav-item svg { width: 22px; height: 22px; fill: currentColor; margin-bottom: 4px; }

        input { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #333; background: var(--inp); color: var(--text); outline: none; }
        
        /* CHAT & NEWS STYLES */
        .chat-msg { background: var(--inp); padding: 8px 12px; border-radius: 10px; margin-bottom: 8px; font-size: 13px; }
        .promo-card { background: linear-gradient(45deg, #111, #222); border: 1px solid red; padding: 15px; border-radius: 12px; margin-bottom: 10px; }
    </style>
</head>
<body>

<div id="rax-roulette"><div class="spinner"></div><div style="color:white; margin-top:10px; font-weight:bold;">RAXICH ROULETTE...</div></div>

<div class="header">
    <div class="logo"><div class="logo-sq">R</div> RussianTUB</div>
    <div style="display:flex; gap:10px; align-items:center;">
        <button class="btn-icon" onclick="toggleTheme()" id="theme-btn">
            <svg viewBox="0 0 24 24"><path d="M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"/></svg>
        </button>
        <button onclick="rouletteGame()" class="btn-red">üé≤ –†–£–õ–ï–¢–ö–ê</button>
        <button onclick="auth()" class="btn-red" id="auth-btn">–í–•–û–î</button>
    </div>
</div>

<div class="page-container">
    <div id="p-main" class="page" style="display:block;">
        <input type="text" placeholder="–ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ –∏ –∫–∞–Ω–∞–ª–æ–≤..." onkeydown="if(event.key==='Enter') search(this.value)" style="margin-bottom:15px;">
        <div id="list"></div>
    </div>
    
    <div id="p-shorts" class="page">
        <h2 style="color:red; margin-top:0;">SHORTS</h2>
        <div id="shorts-list"></div>
    </div>

    <div id="p-news" class="page">
        <h2>–ù–û–í–û–°–¢–ò</h2>
        <div class="promo-card">
            <h3 style="color:red; margin:0;">ULTIMATE UPDATE v60</h3>
            <p>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –±–∞–≥–∏! –î–æ–±–∞–≤–ª–µ–Ω —á–∞—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ, –≤—Ö–æ–¥ –∏ —Ä—É–ª–µ—Ç–∫–∞.</p>
        </div>
        <h3>–ü–†–û–ú–û–ö–û–î–´:</h3>
        <div class="promo-card">
            <b>RAXICH2026</b> - <span style="color:#aaa;">Premium –Ω–∞ 7 –¥–Ω–µ–π</span>
        </div>
        <div class="promo-card">
            <b>ELITE_VIP</b> - <span style="color:#aaa;">–ö—Ä–∞—Å–Ω—ã–π –Ω–∏–∫ –≤ —á–∞—Ç–µ</span>
        </div>
    </div>

    <div id="p-chat" class="page">
        <h2>–û–ë–©–ò–ô –ß–ê–¢</h2>
        <div id="chat-box" style="height:300px; overflow-y:auto; border:1px solid #333; padding:10px; border-radius:10px; margin-bottom:10px;">
            <div class="chat-msg"><b style="color:red;">Admin:</b> –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ RussianTUB!</div>
            <div class="chat-msg"><b>–ì–æ—Å—Ç—å:</b> –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–æ–ø!</div>
        </div>
        <div style="display:flex; gap:10px;">
            <input type="text" id="chat-inp" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ...">
            <button class="btn-red" onclick="sendChat()">></button>
        </div>
    </div>

    <div id="p-sys" class="page">
        <h2>SYSTEM</h2>
        <p>–ê–∫–∫–∞—É–Ω—Ç: <b id="u-name" style="color:red;">–ì–û–°–¢–¨</b></p>
        <h3 style="color:red;">‚ù§Ô∏è –ò–ó–ë–†–ê–ù–ù–û–ï:</h3>
        <div id="fav-list">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ.</div>
        <br>
        <button class="btn-red" style="width:100%; padding:15px;" onclick="localStorage.clear(); location.reload();">–í–´–ô–¢–ò / –°–ë–†–û–°</button>
    </div>
</div>

<div class="nav">
    <button class="nav-item active" onclick="showP('main', 0)"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>HOME</button>
    <button class="nav-item" onclick="showP('shorts', 1); loadShorts();"><svg viewBox="0 0 24 24"><path d="M17.53 11.2c-.23-.3-.5-.56-.76-.82-.65-.6-1.4-1.03-2.03-1.66-1.46-1.46-1.78-3.87-.85-5.72-.03 0-.06.05-.09.05-2.32.43-3.74 2.49-4.23 4.63-.03.15-.04.31-.07.46-.5-1.14-.63-2.45-.12-3.65-1.82.4-3.11 1.9-3.62 3.52-.64 2.01-.05 4.41 1.37 6.02.1.13.2.25.32.37.52.5.52 1.32-.01 1.81-.44.42-1.1.36-1.47-.12-1.46-1.88-1.57-4.39-.27-6.3 0 0 .01-.01.01-.02-.17.23-.3.46-.46.69-1.13 1.55-1.1 3.65-.12 5.2.1.17.19.33.3.5.09.14.12.3.13.46 0 .3-.1.59-.32.81-.21.22-.5.33-.8.33-.23 0-.46-.07-.66-.21-.09-.07-.17-.15-.24-.23-2.68-3.17-3.03-7.79-1.02-11.48z"/></svg>SHORTS</button>
    <button class="nav-item" onclick="showP('news', 2)"><svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 14H7v-2h10v2zm0-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>NEWS</button>
    <button class="nav-item" onclick="showP('chat', 3)"><svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>CHAT</button>
    <button class="nav-item" onclick="showP('sys', 4)"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>SYSTEM</button>
</div>

<div id="player">
    <div style="background:var(--card); padding:10px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid red;">
        <button onclick="closeP()" style="background:none; border:none; color:var(--text); font-size:20px; font-weight:900;">‚úï</button>
        <span style="font-weight:bold; font-size:12px;">RAXICH PLAYER</span>
        <button onclick="toggleMini()" class="btn-red" style="font-size:10px;">_–°–í–ï–†–ù–£–¢–¨</button>
    </div>
    <div id="pf"></div>
    
    <div class="v-info hide-mini">
        <div id="v-title-text" style="font-weight:bold; font-size:14px;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        <button onclick="toggleDesc()" style="margin-top:10px; background:none; border:none; color:red; font-size:12px; cursor:pointer;">üìù –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å –û–ø–∏—Å–∞–Ω–∏–µ</button>
        <div id="v-desc-text" class="v-desc"></div>
    </div>

    <div class="v-actions hide-mini">
        <button class="act-btn" id="l-btn" onclick="rate('l')"><svg viewBox="0 0 24 24"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"/></svg> Like</button>
        <button class="act-btn" id="d-btn" onclick="rate('d')"><svg viewBox="0 0 24 24"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.37-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"/></svg></button>
        <button class="act-btn" onclick="addFav()"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg> –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        <button class="act-btn" onclick="alert('–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ')">üîó Share</button>
    </div>

    <div id="comm-sec" class="hide-mini"></div>
    
    <div class="comm-input hide-mini">
        <input type="text" id="my-c" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...">
        <button class="btn-red" onclick="postC()">–û–ö</button>
    </div>
</div>

<script>
    const KEY = "AIzaSyDplou07qJ1iTusN_dYoNvF2NI610jAOck";
    let curV = {}; 
    let favs = JSON.parse(localStorage.getItem('favs') || '[]');

    function toggleTheme() {
        document.body.classList.toggle('light-theme');
        const i = document.getElementById('theme-btn').querySelector('svg');
        i.innerHTML = document.body.classList.contains('light-theme') ? 
            '<path d="M20 15.31L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/>' : 
            '<path d="M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10z"/>';
    }

    async function search(q) {
        document.getElementById('rax-roulette').style.display='flex';
        const list = document.getElementById('list'); list.innerHTML = '';
        try {
            const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=15&q=${encodeURIComponent(q)}&key=${KEY}`);
            const data = await res.json();
            data.items.forEach(i => {
                const d = document.createElement('div'); d.className = 'v-card';
                if (i.id.kind === 'youtube#channel') {
                    d.innerHTML = `<img src="${i.snippet.thumbnails.high.url}" class="chan-img"><div class="v-title" style="text-align:center; color:red;">${i.snippet.title}<br><span style="color:gray;font-size:10px;">–ö–ê–ù–ê–õ</span></div>`;
                    d.onclick = () => search(i.snippet.title);
                } else {
                    d.innerHTML = `<img src="${i.snippet.thumbnails.high.url}" class="v-thumb"><div class="v-title">${i.snippet.title}</div>`;
                    d.onclick = () => play(i.id.videoId, i.snippet.title, i.snippet.description);
                }
                list.appendChild(d);
            });
        } catch(e) { alert('–û—à–∏–±–∫–∞ API'); }
        document.getElementById('rax-roulette').style.display='none';
    }

    async function play(id, title, desc) {
        curV = {id, title, thumb: `https://i.ytimg.com/vi/${id}/hqdefault.jpg`};
        const p = document.getElementById('player'); p.style.display='flex'; p.classList.remove('mini');
        document.getElementById('pf').innerHTML = `<iframe src="https://www.youtube-nocookie.com/embed/${id}?autoplay=1" style="width:100%;height:100%;border:none;"></iframe>`;
        document.getElementById('v-title-text').innerText = title || "–í–∏–¥–µ–æ";
        document.getElementById('v-desc-text').innerText = desc || "–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è.";
        
        // –°–±—Ä–æ—Å –∫–Ω–æ–ø–æ–∫
        document.getElementById('l-btn').classList.remove('active');
        document.getElementById('d-btn').classList.remove('active');

        // –ö–æ–º–º–µ–Ω—Ç—ã
        const cl = document.getElementById('comm-sec'); cl.innerHTML = '–ó–∞–≥—Ä—É–∑–∫–∞ –º–Ω–µ–Ω–∏–π...';
        const res = await fetch(`https://www.googleapis.com/youtube/v3/commentThreads?part=snippet&videoId=${id}&maxResults=8&key=${KEY}`);
        const data = await res.json(); cl.innerHTML = '';
        if(data.items) {
            data.items.forEach(c => {
                const s = c.snippet.topLevelComment.snippet;
                cl.innerHTML += `<div class="comment"><div><b>${s.authorDisplayName}</b><br>${s.textDisplay}</div></div>`;
            });
        } else { cl.innerHTML = '–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã.'; }
    }

    // –õ–û–ì–ò–ö–ê
    function toggleDesc() {
        const d = document.getElementById('v-desc-text');
        d.style.display = d.style.display==='block' ? 'none' : 'block';
    }

    function rate(type) {
        const l = document.getElementById('l-btn');
        const d = document.getElementById('d-btn');
        if(type==='l') { l.classList.toggle('active'); d.classList.remove('active'); }
        else { d.classList.toggle('active'); l.classList.remove('active'); }
    }

    function addFav() {
        if(!favs.find(f=>f.id===curV.id)) {
            favs.push(curV); localStorage.setItem('favs', JSON.stringify(favs));
            alert('‚ù§Ô∏è –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ SYSTEM'); renderFavs();
        }
    }
    
    function renderFavs() {
        const fl = document.getElementById('fav-list'); fl.innerHTML='';
        favs.forEach(f => {
            const d = document.createElement('div'); d.className='v-card';
            d.innerHTML = `<img src="${f.thumb}" class="v-thumb"><div class="v-title">${f.title}</div>`;
            d.onclick = () => play(f.id, f.title, '');
            fl.appendChild(d);
        });
    }

    function postC() {
        const v = document.getElementById('my-c').value; if(!v)return;
        document.getElementById('comm-sec').insertAdjacentHTML('afterbegin', `<div class="comment" style="border-left:3px solid red; padding-left:10px;"><b>–Ø:</b> ${v}</div>`);
        document.getElementById('my-c').value='';
    }

    // –†–£–õ–ï–¢–ö–ê –ò –®–û–†–¢–°–´
    function rouletteGame() {
        const queries = ['Minecraft', 'GTA 5', 'Meme', 'Music', 'CS2', 'Dota 2', 'Skibidi'];
        const rand = queries[Math.floor(Math.random()*queries.length)];
        search(rand);
    }

    async function loadShorts() {
        const sl = document.getElementById('shorts-list'); sl.innerHTML='–ó–∞–≥—Ä—É–∑–∫–∞...';
        const res = await fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=shorts&type=video&key=${KEY}`);
        const data = await res.json(); sl.innerHTML='';
        data.items.forEach(i => {
            const d = document.createElement('div'); d.className='v-card';
            d.innerHTML=`<img src="${i.snippet.thumbnails.high.url}" class="v-thumb"><div class="v-title">${i.snippet.title}</div>`;
            d.onclick=()=>play(i.id.videoId, i.snippet.title);
            sl.appendChild(d);
        });
    }

    // –ß–ê–¢ –ò –°–ò–°–¢–ï–ú–ê
    function sendChat() {
        const i = document.getElementById('chat-inp'); if(!i.value)return;
        const u = localStorage.getItem('u') || '–ì–æ—Å—Ç—å';
        document.getElementById('chat-box').innerHTML += `<div class="chat-msg"><b>${u}:</b> ${i.value}</div>`;
        i.value='';
    }
    
    function auth() {
        const n = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫:"); 
        if(n) { localStorage.setItem('u', n); location.reload(); }
    }

    function showP(id, idx) {
        document.querySelectorAll('.page').forEach(p=>p.style.display='none');
        document.getElementById('p-'+id).style.display='block';
        document.querySelectorAll('.nav-item').forEach((n,i)=>n.classList.toggle('active', i===idx));
    }
    
    function toggleMini() { document.getElementById('player').classList.toggle('mini'); }
    function closeP() { document.getElementById('player').style.display='none'; document.getElementById('pf').innerHTML=''; }

    window.onload = () => {
        search('–¢—Ä–µ–Ω–¥—ã 2024'); renderFavs();
        const u = localStorage.getItem('u');
        if(u) {
            document.getElementById('u-name').innerText = u.toUpperCase();
            document.getElementById('auth-btn').style.display='none';
        }
    };
</script>
</body>
    </html>
